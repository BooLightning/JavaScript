<!DOCTYPE html>
<!--
Most of the HTML code is based off of https://www.khanacademy.org/computer-programming/processingjs-inside-webpages-template/5157014494511104
-->
<html>
    <head>
        <script>
            <!-- Google Analytics -->
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
            <!-- End Google Analytics -->

ga('create', 'UA-XXXXX-Y', 'auto');
ga('send', 'pageview');
</script>
        <title>Car loop</title>
        
        <style>
        body {
          margin: 0;
        }
        </style>
    </head>
    <body>
    <canvas id="mycanvas"></canvas> 
    </body>
    <script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script>
<script>



  var programCode = function(processingInstance) {
    with (processingInstance) {
      size(innerWidth, innerHeight); 
      frameRate(100);
        
      // Paste code from Khan Academy here:

noStroke();

// position of the car
var x = -100;


const H = canvas.height / 2
 
draw = function() {
    
    // all lines of code inside here will be run repeatedly
    background(151, 244, 247);
    
    // draw the car body
    fill(255, 0, 115);
    rect(x, H, 100, 20);
    rect(x + 15, H - 22, 70, 40);
    
    // draw the wheels
    fill(77, 66, 66);
    ellipse(x + 25, H + 21, 24, 24);
    ellipse(x + 75, H + 21, 24, 24);
    
    var y = 1;
    
    if (y >= 1) {
    y = y + 4;
    
}
    
    if (x < canvas.width) {
    x = x + y;
} else {
x = -100
}

window.addEventListener('resize', function () { 
    "use strict";
    window.location.reload(); 
});

if (H !== canvas.height / 2) {
window.location.reload();
}

};


    }};

  // Get the canvas that ProcessingJS will use
  var canvas = document.getElementById("mycanvas"); 
  // Pass the function to ProcessingJS constructor
  var processingInstance = new Processing(canvas, programCode); 
  </script>
  
 
    
</html>
